/*
 * JavaScript для управления мобильным меню
 *
 * Функционал:
 * - Открытие/закрытие мобильного меню при клике на бургер
 * - Автоматическое скрытие меню при изменении размера экрана
 * - Закрытие меню при клике на пункт навигации на мобильных устройствах
 */

$(document).ready(function(){
	// Элементы DOM
 	var touch 	= $('#touch-menu');  // Кнопка бургер-меню
 	var nav 	= $('nav');          // Навигационное меню

	/*
	 * Обработчик клика по бургер-меню
	 * Открывает/закрывает меню с анимацией
	 */
 	$(touch).on('click', function(e) {
 		e.preventDefault();           // Предотвращаем стандартное поведение
 		nav.slideToggle();           // Анимация открытия/закрытия
 	});
 	
	/*
	 * Обработчик изменения размера окна
	 * Скрывает меню при увеличении экрана выше 945px
	 */
 	$(window).resize(function(){
 		var w = $(window).width();    // Текущая ширина окна
 		if (w > 945 && nav.is(':hidden')) {
 			nav.removeAttr('style');   // Удаляем inline-стили
 		}
 	});
 	
	/*
	 * Обработчик клика по пунктам навигации
	 * Закрывает меню на мобильных устройствах после выбора пункта
	 */
 	$('nav a').on('click', function(){
 		if ($('#touch-menu').css('display') != 'none'){
             $("#touch-menu").trigger( "click" );  // Имитируем клик по бургеру
         }
     });
 	
 });

