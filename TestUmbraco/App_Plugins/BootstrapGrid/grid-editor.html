<!DOCTYPE html>
<html>
<head>
    <title>Bootstrap Grid Editor</title>
    <style>
        .simple-grid-editor {
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .btn {
            padding: 10px 20px;
            background: #3548d4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .grid-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .grid-cell {
            background: #6c757d;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 4px;
        }
    </style>
</head>
<body ng-controller="SimpleGridEditorController">
    <div class="simple-grid-editor">
        <h2>üìê Bootstrap Grid Editor</h2>
        
        <div>
            <label>–ö–æ–ª–æ–Ω–æ–∫:</label>
            <select ng-model="vm.columns" ng-change="updateCells()">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="6">6</option>
                <option value="12">12</option>
                <option value="0">auto</option>
            </select>
        </div>
        
        <div>
            <label>–¢–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:</label>
            <select ng-model="vm.containerType">
                <option value="container">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä (div)</option>
                <option value="list">–°–ø–∏—Å–æ–∫ (ul)</option>
            </select>
        </div>
        
        <div class="grid-preview">
            <div ng-repeat="cell in vm.cells" 
                 class="grid-cell"
                 style="flex: 0 0 calc({{100 / vm.columns}}% - 10px);">
                –Ø—á–µ–π–∫–∞ {{$index + 1}}
            </div>
        </div>
        
        <button class="btn" ng-click="save()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn" ng-click="close()">‚ùå –û—Ç–º–µ–Ω–∞</button>
    </div>

    <script>
        angular.module('umbraco').controller('SimpleGridEditorController', [
            '$scope',
            function($scope) {
                var vm = this;
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                vm.columns = 4;
                vm.containerType = 'container';
                vm.additionalClass = '';
                vm.cells = [];
                
                // –°–æ–∑–¥–∞–µ–º —è—á–µ–π–∫–∏
                function updateCells() {
                    vm.cells = [];
                    for (var i = 0; i < vm.columns; i++) {
                        vm.cells.push({
                            id: 'cell-' + i,
                            position: i + 1,
                            settings: {
                                xl: Math.floor(12 / vm.columns).toString(),
                                lg: Math.floor(12 / vm.columns).toString(),
                                md: Math.floor(12 / vm.columns).toString(),
                                sm: '12',
                                xs: '12',
                                extraClasses: []
                            }
                        });
                    }
                }
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                vm.save = function() {
                    var result = {
                        columns: vm.columns,
                        containerType: vm.containerType,
                        additionalClass: vm.additionalClass,
                        cells: vm.cells
                    };
                    
                    if ($scope.model.submit) {
                        $scope.model.submit(result);
                    }
                };
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ
                vm.close = function() {
                    if ($scope.model.close) {
                        $scope.model.close();
                    }
                };
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                updateCells();
                
                // –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                if ($scope.model.value) {
                    vm.columns = $scope.model.value.columns || 4;
                    vm.containerType = $scope.model.value.containerType || 'container';
                    vm.additionalClass = $scope.model.value.additionalClass || '';
                    vm.cells = $scope.model.value.cells || [];
                }
            }
        ]);
    </script>
</body>
</html>