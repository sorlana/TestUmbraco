@using Umbraco.Cms.Core.Models.Blocks
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<BlockListItem>

@{
    var content = Model.Content;
    var columnsCount = content.Value<string>("formColumn");
    var columnFields = content.Value<IEnumerable<BlockListItem>>("formFields");
    var fieldsCount = columnFields?.Count() ?? 0;
    
    // –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º 2 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    if (string.IsNullOrEmpty(columnsCount))
    {
        columnsCount = "2";
    }
}

<div style="min-height: 40px; background-color: #f0f0f0; border: 1px solid #d0d0d0; border-radius: 4px; padding: 10px; margin: 5px 0;">
    <div style="font-weight: 600; color: #333; margin-bottom: 5px;">
        üìã –ö–æ–ª–æ–Ω–∫–∞ (@columnsCount –≤ —Ä—è–¥) - –ü–æ–ª–µ–π: @fieldsCount
    </div>
    @if (columnFields != null && columnFields.Any())
    {
        <div style="padding-left: 15px; font-size: 12px; color: #666;">
            @foreach (var field in columnFields)
            {
                var fieldLabel = field.Content.Value<string>("fieldLabel") ?? "–ü–æ–ª–µ";
                <div>‚Ä¢ @fieldLabel</div>
            }
        </div>
    }
    else
    {
        <div style="padding-left: 15px; font-size: 11px; color: #999; font-style: italic;">
            –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—è –≤ –∫–æ–ª–æ–Ω–∫—É
        </div>
    }
</div>
